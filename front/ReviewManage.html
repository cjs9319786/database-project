<!DOCTYPE html>
<html lang="kor">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-square-neo.css" rel="stylesheet" />
    <title>리뷰 관리</title>

    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/Member_manage.css" />
    <link rel="stylesheet" href="./css/Review_manage.css" />
</head>

<body style="background-color: #e0f8de">
    <div id="header">
        <div class="header-bar">
            <div id="logo">
                <img src="./img/logo.png" width="120px" height="100px" onclick="location.href='Main.html'"
                    style="cursor: pointer" />
            </div>
            <div class="Menu-bar" id="Menu-bar_Manager" style="display: block">
                <a class="Menu-item" type="button" href="Member.html">회원관리</a>
                <a class="Menu-item" type="button" href="bookDataEdit.html">도서편집</a>
                <a class="Menu-item" type="button" href="Main.html">메인화면으로</a>
                <a class="Menu-item" type="button" href="CheckBook.html">도서대출/반납</a>
            </div>
            <div id="login">
                <div id="login_after" style="display: block">
                    <button onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
    </div>

    <div class="main">
        <div id="contents_wrap">
            <div id="check_member_wrap" style="display: block; width: 100%;">

                <div class="review_title_wrap">
                    <h2>전체 리뷰 관리</h2>
                </div>

                <div id="settings_panel"
                    style="width: 95%; margin: 0 auto 20px auto; background: #fff; border: 1px solid #ddd; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                    <h3 style="margin-top: 0; color: #333; font-size: 16px;">🚫 금지어 관리 설정</h3>
                    <p style="font-size: 13px; color: #666; margin-bottom: 10px;">
                        리뷰 필터링에 사용할 단어를 쉼표(,)로 구분하여 입력해주세요. (이 설정은 현재 브라우저에만 저장됩니다.)
                    </p>

                    <textarea id="banned_words_input"
                        style="width: 100%; height: 60px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-family: sans-serif; resize: vertical;"
                        placeholder="예: 바보, 멍청이, 욕설"></textarea>

                    <div style="margin-top: 10px; text-align: right;">
                        <button onclick="resetBannedWords()"
                            style="background: #95a5a6; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; margin-right: 5px;">초기화</button>
                        <button onclick="saveBannedWords()"
                            style="background: #27ae60; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; font-weight: bold;">설정
                            저장</button>
                    </div>
                </div>

                <div class="search_filter_box">
                    <div class="filter_wrap">
                        <select id="sort_select" onchange="sortAndDisplay()">
                            <option value="latest">최신순 (기본)</option>
                            <option value="oldest">오래된순</option>
                            <option value="high_rating">평점 높은순</option>
                            <option value="low_rating">평점 낮은순</option>
                            <option value="bad_word" style="color:red; font-weight:bold;">⚠️ 부적절 단어 의심</option>
                        </select>
                    </div>

                    <div class="search_wrap">
                        <img src="./img/search.png" class="search_icon" width="25px" height="25px" />
                        <form id="searchForm">
                            <input type="text" id="search_Bar" placeholder="내용, 작성자, 책제목 검색" />
                            <input id="review_Search_Btn" type="submit" value="검색" />
                        </form>
                    </div>
                </div>

                <div class="review_List_container">
                    <div class="review_List" id="review_list_div">
                        <div class="top">
                            <div class="col_id">No</div>
                            <div class="col_book">책 제목</div>
                            <div class="col_user">작성자</div>
                            <div class="col_rating">평점</div>
                            <div class="col_content">내용</div>
                            <div class="col_date">작성일</div>
                            <div class="col_manage">관리</div>
                        </div>
                    </div>
                </div>

                <div class="list_Page" id="list_Page"></div>
            </div>
        </div>
    </div>

    <script>
        function logout() {
            localStorage.removeItem("authToken");
            window.location.href = "Main.html";
        }
    </script>
    <script src="./js/review_manage.js"></script>
</body>

</html>